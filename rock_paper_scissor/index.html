<!DOCTYPE html>
<html>
    <head>
        <title>Permainan Suit</title>
    </head>
    <body>
        <p>Gunakan konsole untuk bermain !!!</p>
        <script>
            const GUNTING = "gunting";
            const BATU = "batu";
            const KERTAS = "kertas";
            let playerScore;
            let computerScore;
            let round;

            function game(){
                alert("Ronde " + round);
                if(round <= 0){
                    playerScore === computerScore ? alert("Wow Draw") :
                    playerScore > computerScore ? alert("Player menang") :
                    alert("komputer menang");
                    let lagi = prompt("Main lagi ?");
                    if(lagi !== null){
                        mulaiMain();
                    }else{
                        alert("Terima kasih sudah bermain");
                        return;
                    }
                }else{
                    let playerInput = prompt("Pilih gunting, kertas, apa batu ? ").toLowerCase();
                    bermain(playerInput, computerPlay());
                    alert("Score : kamu : " + playerScore + " computer : " + computerScore);
                    round--;
                    game();
                }
            }

            function computerPlay(){
                let random = Math.floor((Math.random() * 3) + 1);
                console.log(random);
                switch (random){
                    case 1:
                        return GUNTING;
                    case 2:
                        return BATU;
                    case 3:
                        return KERTAS;
                }
            }

            function bermain(playerInput, computerPlay){
                console.log(playerInput);
                if(playerInput === computerPlay){
                    playerScore++;
                    computerScore++;
                }
                switch(playerInput){
                    case BATU:
                        if(computerPlay === KERTAS){
                            alert("Komputer menang");
                            computerScore++;
                        }else if(computerPlay === GUNTING){
                            alert("Kamu menang");
                            playerScore++;
                        }
                    break;
                    case GUNTING:
                        if(computerPlay === BATU){
                            alert("Komputer menang");
                            computerScore++;
                        }else if(computerPlay === KERTAS){
                            alert("Kamu menang");
                            playerScore++;
                        }
                    break;
                    case KERTAS:
                        if(computerPlay === GUNTING){
                            alert("Komputer menang");
                            computerScore++;
                        }else if(computerPlay === BATU){
                            alert("Kamu menang");
                            playerScore++;
                        }
                    break;
                    default:
                        alert("Anda salah input !!!");
                        game();
                }
            }

            function mulaiMain(){
                playerScore = 0;
                computerScore = 0;
                round =  +prompt("mau main berapa ronde ?");
                game();
            }            
        </script>
    </body>
</html>